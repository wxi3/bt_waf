<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title id="title"></title><style>body,html{margin:0;padding:0}.btlink{color:#20a53a}.content{position:fixed;top:50%;left:50%;transform:translate(-50%,-80%);display:flex;flex-direction:column;z-index:300;width:90%;max-width:40rem;height:15rem;border-radius:.5rem;padding:1rem 0}.animation{display:flex;align-items:center;justify-content:center;margin-bottom:60px}.content .text{font-size:26px;text-align:center;font-weight:700}.content .sub{font-size:18px;text-align:center;margin-top:15px;color:#656565}.content .pos,.content .time{font-size:28px;font-weight:700;color:#20a53a}.loading,.loading>div{position:relative;box-sizing:border-box}.loading{display:block;font-size:0;color:#20a53a}.loading.la-dark{color:#333}.loading>div{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.loading{width:25px;height:25px}.loading>div{position:absolute;width:20px;height:20px;border-radius:100%;transform:translate(-50%,-50%);animation:ball-fussion-ball1 1s 0s ease infinite}.loading>div:nth-child(1){top:0;left:50%;z-index:1}.loading>div:nth-child(2){top:50%;left:100%;z-index:2;animation-name:ball-fussion-ball2}.loading>div:nth-child(3){top:100%;left:50%;z-index:1;animation-name:ball-fussion-ball3}.loading>div:nth-child(4){top:50%;left:0;z-index:2;animation-name:ball-fussion-ball4}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}</style></head><body><div class="btbox" style=""><div class="content"><div class="animation"><div class="loading"><div></div><div></div><div></div><div></div></div></div><div class="text btlink">{{content}}</div><div class="sub">当前排位第<span class="pos">-</span>位/共<span class="total">-</span>位,预计<span class="time"></span>秒后进入网站</div></div></div><script>function create_websocket_connect(url,shell){var that=this;this.url=(location.protocol==='http:'?'ws://':'wss://')+location.host+url;this.socket=new WebSocket(this.url);this.socket.addEventListener('open',function(event){if(shell){shell.log('WebSocket连接已打开');}});this.socket.addEventListener('message',function(event){if(shell){shell.log('收到服务器消息: '+event.data);var data=JSON.parse(event.data);document.querySelector('.pos').innerText=data.pos;document.querySelector('.total').innerText=data.total;var time=data.pos*15;document.querySelector('.time').innerText=time>120?120:time;}});this.socket.addEventListener('close',function(event){if(shell){shell.log('WebSocket连接已关闭: '+event.code+' '+event.reason);location.reload();}});this.socket.addEventListener('error',function(event){console.error('WebSocket错误:',event);if(shell){shell.log('WebSocket错误: '+event);}});}var myShell={log:function(message){console.log(message);}};create_websocket_connect("/.btwaf_api/btwaf_user_count",myShell);</script></body></html>